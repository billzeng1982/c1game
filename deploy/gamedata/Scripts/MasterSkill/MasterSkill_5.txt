--[[
名称：援军之阵
类型：军师技能
描述：减少城墙受到的伤害
--]]
local ThisScriptId = 5;

--技能诞生处理
local function runBorn(LuaDataAgt)
	LuaDataAgt:SetFormula(VALUE_CHG_TYPE.CHG_HP_MASTERSKILL, ThisScriptId, 0);
end

--技能条件判断
local function checkCond(LuaDataAgt)
	return true;
end

--找对象，上面条件满足后执行
local function findTarget(LuaDataAgt)
	LuaDataAgt:ClearTarget();
    local targetList = LuaDataAgt:FindTargetCity(TARGET_GROUP.SELF);
end

--技能生效
local function takeEffect(LuaDataAgt)
	local target = LuaDataAgt:GetTargetCity(TARGET_GROUP.SELF);
	target:AddBuff(1050, LuaDataAgt, nil);
end

--技能生效完成
local function takeEffectDone(LuaDataAgt)
	
end

local function doFormula(LuaDataAgt, iFormulaType, iFormulaPara, rSource, rTarget, iDamageRef)
	iRet = 3000;
	return iRet;
end

MasterSkill_5 = {
	func_runBorn = runBorn;
	func_checkCond = checkCond;
	func_findTarget = findTarget;
	func_takeEffect = takeEffect;
	func_takeEffectDone = takeEffectDone;
	func_doFormula = doFormula;
}