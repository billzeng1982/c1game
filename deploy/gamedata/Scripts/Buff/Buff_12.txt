--[[
名称：天水麒麟
类型：武将技能Buff
描述：加攻40
--]]
local ThisScriptId = 12;

--Buff诞生处理
local function runBorn(LuaDataAgt)
	local source = LuaDataAgt:GetBuffSource();
	
	--buff时间设置
	local itime = source:GetActiveSkillBaseValue(2);
	if source:IsHaveActiveSkillCheats(2) then     --秘籍2：增加时长
	    itime = itime * 1.1;
	end
	LuaDataAgt:SetBuffLifeTime(VALUE_TYPE.RUNTIME_CONF, itime);
	
	--属性加减
	local AddAtk = source:GetActiveSkillBaseValue(1);
	if LuaDataAgt:Equal(source) and source:IsHaveActiveSkillCheats(1) then     --秘籍1：自身额外加攻
	    AddAtk = AddAtk * 1.5 ;
	end
	
	LuaDataAgt:ChgStrAtk(VALUE_TYPE.CURRENT, AddAtk);
	
	if not IsOnServer then
		LuaDataAgt:RefreshFightNum();
		--射程加强取消
		--LuaDataAgt:ChgArcherRadiusByRatio(1.25);
	end 
end

--Buff驱散条件判断
local function checkDeadCond(LuaDataAgt)
	
	return false;
end

--Buff驱散生效
local function runDead(LuaDataAgt)
	local source = LuaDataAgt:GetBuffSource();
	
	--属性加减
	local AddAtk = source:GetActiveSkillBaseValue(1);
	if LuaDataAgt:Equal(source) and source:IsHaveActiveSkillCheats(1) then     --秘籍1：自身额外加攻
	    AddAtk = AddAtk * 1.5 ;
	end
	
	LuaDataAgt:ChgStrAtk(VALUE_TYPE.CURRENT, -AddAtk);
	
	if not IsOnServer then
		LuaDataAgt:RefreshFightNum();
		
		--LuaDataAgt:ChgArcherRadiusByRatio(-1.25);
	end
end

--Buff生效条件判断
local function checkEffectCond(LuaDataAgt)
	return true;
end

--Buff生效
local function takeEffect(LuaDataAgt)

end

Buff_12 = {
	func_runBorn = runBorn;
	func_checkDeadCond = checkDeadCond;
	func_runDead = runDead;
	func_checkEffectCond = checkEffectCond;
	func_takeEffect = takeEffect;
}