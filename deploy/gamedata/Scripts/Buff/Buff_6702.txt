--[[
名称：马超被动4
类型：被动buff
描述：我方所有骑兵伤害提高
--]]
local ThisScriptId = 6702;

--Buff诞生处理
local function runBorn(LuaDataAgt)
	local rsource = LuaDataAgt:GetBuffSource();
		
	--属性加减
	local ChgValue = rsource:GetPassiveSkillBaseValue(ThisScriptId,1);
	local ObjectType = LuaDataAgt:GetGoType();
	local ArmyType = LuaDataAgt:GetArmyType();
	
	if ObjectType == FIGHTOBJ_TYPE.FIGHTOBJ_TROOP and ArmyType == ARMY_TYPE.ARMY_CAVALRY then
	  --判断是否为骑
		LuaDataAgt:ChgStrAtk(VALUE_TYPE.CURRENT, ChgValue);
	end
	
	if not IsOnServer then
		LuaDataAgt:RefreshFightNum();
	end
end

--Buff驱散条件判断
local function checkDeadCond(LuaDataAgt)

	return false;
end

--Buff驱散生效
local function runDead(LuaDataAgt)
	local rsource = LuaDataAgt:GetBuffSource();
		
	--属性加减
	local ChgValue = rsource:GetPassiveSkillBaseValue(ThisScriptId,1);
	local ObjectType = LuaDataAgt:GetGoType();
	local ArmyType = LuaDataAgt:GetArmyType();
	
	if ObjectType == FIGHTOBJ_TYPE.FIGHTOBJ_TROOP and ArmyType == ARMY_TYPE.ARMY_CAVALRY then
	  --判断是否为骑
		LuaDataAgt:ChgStrAtk(VALUE_TYPE.CURRENT, -ChgValue);
	end
	
	if not IsOnServer then
		LuaDataAgt:RefreshFightNum();
	end
end

--Buff生效条件判断
local function checkEffectCond(LuaDataAgt)
	return true;
end

--Buff生效
local function takeEffect(LuaDataAgt)

end

Buff_6702 = {
	func_runBorn = runBorn;
	func_checkDeadCond = checkDeadCond;
	func_runDead = runDead;
	func_checkEffectCond = checkEffectCond;
	func_takeEffect = takeEffect;
}